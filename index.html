<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/responsive.css" />
    <link rel="stylesheet" href="css/owl.carousel.css" />
    <link rel="stylesheet" href="css/selectize.default.css" />
</head>
<body>
    <div class="main-outr">
        <section class="sec-outr sec1-bg mouse-bg">
            <div class="sec">
                <div class="logo">
                    <a href="javascript:void(0);">
                        <img src="images/logo.png" alt="logo" />
                    </a>
                </div>
                <div class="sec-container">
                    <div class="sec1-text">
                        <span id="background" class="mouse-bg">
                            Generate Ideas <br>
                            for Quiz or <br>
                            Calculator.
                        </span>
                    </div>
                    <a class="sec1-button" href="javascript:void(0);">Get Started</a>
                </div>
            </div>
        </section>
        <div class="logo-top hide">
            <a href="javascript:void(0);">
                <img src="images/logo.png" alt="logo" />
            </a>
        </div>
        <section class="sec-outr sec2-bg hide">
            <!-- <div class="loader-wrapper category-page-loader">
                    <i class="material-icons loader-anim">autorenew</i>
            </div> -->
            <div class="preloader category-page-loader">
                    <div class="status">&nbsp;</div>
                </div>
            <div class="sec">
                <div class="sec-container">
                    <div class="sec2-step">
                        <span>1/3</span>
                    </div>
                    <div class="sec2-text">
                        Which category<br>
                        does your<br>
                        company fall<br>
                        into?
                    </div>
                    <div class="sec-catergory">
                        <select class="demo-default selectize-category" data-placeholder="Choose Category">
                            <!-- <option value="0">Choose Category</option>
                            <option value="1">Category 1</option>
                            <option value="2">Category 2</option>
                            <option value="3">Category 3</option>
                            <option value="4">Category 4</option> -->
                        </select>
                    </div>
                </div>
            </div>
        </section>
        <section class="sec-outr sec3-bg hide">
       <!--  <div class="loader-wrapper sub-category-page-loader">
                    <i class="material-icons loader-anim">autorenew</i>
        </div> -->
        <div class="preloader sub-category-page-loader">
                    <div class="status">&nbsp;</div>
        </div>
            <div class="sec">
                <div class="sec-container">
                    <div class="sec2-step">
                        <span>2/3</span>
                    </div>
                    <div class="sec2-text">
                        Select<br>
                        Sub-Category
                    </div>
                    <div class="sec-catergory">
                        <select class="demo-default selectize-sub-category" data-placeholder="Choose Sub Category">
                           <!--  <option value="0">Sub Category</option>
                            <option value="1">Sub Category 1</option>
                            <option value="2">Sub Category 2</option>
                            <option value="3">Sub Category 3</option>
                            <option value="4">Sub Category 4</option> -->
                        </select>
                    </div>
                </div>
            </div>
        </section>
        <section class="sec-outr sec4-bg hide">
            <div class="sec">
                <div class="sec-container">
                    <div class="sec2-step">
                        <span>3/3</span>
                    </div>
                    <div class="sec2-text">
                        Your Email
                    </div>
                    <div class="sec-catergory">
                        <input type="text" class="sec-input" id="form-email" placeholder="johnwatson@sh.com" />
                        <span class="alert alert-danger email-validator hide">
						  	<i class="material-icons">error_outline</i> Please enter valid email
						</span>
                    </div>
                    <div class="butn-outr">
                        <button type="submit" class="sec-button button-ideas">Show me my ideas!</button>
                    </div>
                </div>
            </div>
        </section>
        <section class="sec-outr sec5-bg hide">
            <div class="sec">
                <div class="sec-fullwidth">
                    <div class="sec2-text">
                        Here you go!s
                    </div>
                </div>
                <div class="sec-cat-main">
                    <div class="sec-cate-1">
                        <select class="demo-default selectize-category-result" data-placeholder="Choose Category">
                           <!--  <option value="0">Category</option>
                            <option value="1">Category 1</option>
                            <option value="2">Category 2</option>
                            <option value="3">Category 3</option>
                            <option value="4">Category 4</option> -->
                        </select>
                    </div>
                    <div class="sec-cate-1">
                        <select class="demo-default selectize-sub-category-result" data-placeholder="Choose Sub Category">
                            <!-- <option value="0">Sub Category</option>
                            <option value="1">Sub Category 1</option>
                            <option value="2">Sub Category 2</option>
                            <option value="3">Sub Category 3</option>
                            <option value="4">Sub Category 4</option> -->
                        </select>
                    </div>
                    <div class="sec-cate-1">
                        <button type="submit" class="sec-button-update">Update</button>
                    </div>
                </div>
                <!-- <div class="loader-wrapper result-page-loader">
                    <i class="material-icons loader-anim">autorenew</i>
                </div> -->
                <div class="preloader result-page-loader">
                    <div class="status">&nbsp;</div>
                </div>
                <div class="sec-cat-list">
                    <h3>Top of the funnel</h3>
                    <div class="sec-cat-carousel">
                        <div class="owl-container">
                            <div class="owl-demo pic-selector top-funnel">
                                <div class="item hide">
                                    <input checked="checked" id="xs-img1" type="checkbox" name="xs-img" value="xs-img1" />
                                    <label class="xs-img-hover img img1" for="xs-img1">
                                        <span class="click-outr"></span>
                                        <div class="overlay-outer">
	                                        <div class="overlay">
	                                        	What best suits you from our spring / summer colection?
	                                        </div>
										</div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="sec-cat-list">
                    <h3>Middle of the funnel</h3>
                    <div class="sec-cat-carousel">
                        <div class="owl-container">
                            <div class="owl-demo pic-selector mid-funnel">
                                <div class="item hide">
                                    <input checked="checked" id="xs-img11" type="checkbox" name="xs-img" value="xs-img1" />
                                    <label class="xs-img-hover img img5" for="xs-img11">
                                    	<span class="click-outr"></span>
                                    	<div class="overlay-outer">
	                                        <div class="overlay">
	                                        	What best suits you from our spring / summer colection?
	                                        </div>
										</div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="sec-cat-list">
                    <h3>Bottom of the funnel</h3>
                    <div class="sec-cat-carousel">
                        <div class="owl-container">
                            <div class="owl-demo pic-selector bottom-funnel">
                                <div class="item hide">
                                    <input checked="checked" id="xs-img21" type="checkbox" name="xs-img" value="xs-img1" />
                                    <label class="xs-img-hover img img7" for="xs-img21">
                               	 		<span class="click-outr"></span>
                                    	<div class="overlay-outer">
	                                        <div class="overlay">
	                                        	What best suits you from our spring / summer colection?
	                                        </div>
										</div>
									</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="build-btn hide">
                <a href="javascript:void(0);">Build Selection <span id="build-select"></span></a>
            </div> -->
        </section>
    </div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script type="text/javascript" src="js/request.sheet.js"></script>
    <script type="text/javascript" src="js/database.sheet.js"></script>
    <script type="text/javascript" src="js/owl.carousel.js"></script>
    <script type="text/javascript" src="js/selectize.min.js"></script>
    <script type="text/javascript" src="js/mouse.parallax.js"></script>
    <script type="text/javascript" src="js/validation.js"></script>
    <script type="text/javascript" src="js/build.js"></script>
     <script>
        $(document).ready(function(){
            $('#background').mouseParallax({ moveFactor: 5 });
            $('#foreground').mouseParallax({ moveFactor: 1 });


            $(".sec1-button").click(function(){
                //$(".sec1-bg").hide();
                $(".sec2-bg").removeClass("hide");
                $(".logo-top").removeClass("hide");
                $('html, body').animate({
                    scrollTop: $('.sec2-bg').offset().top
                }, 1000);
                setTimeout(function(){
                    $(".sec1-bg").addClass("hide");
                }, 1000)

            });

            $('.selectize-category').selectize({
                create: false,
                sortField: 'text',
                onChange:function(event){
                    makeSubCategory('.selectize-sub-category',saveSubCat[event]);
                    saveData.category = event;

                    $(".sec3-bg").removeClass("hide");
                    $('html, body').animate({
                        scrollTop: $('.sec3-bg').offset().top
                    }, 1000);
                    setTimeout(function(){
                        $(".sec2-bg").addClass("hide");
                    }, 1000)

                   $('.selectize-category-result')[0].selectize.setValue(event);
                }
            });

            $('.selectize-sub-category').selectize({
                create: false,
                sortField: 'text',
                onChange:function(event){
                    saveData.subCat = event;

                    $(".sec4-bg").removeClass("hide");
                    $('html, body').animate({
                        scrollTop: $('.sec4-bg').offset().top
                    }, 1000);
                    setTimeout(function(){
                        $(".sec3-bg").addClass("hide");
                    }, 1000)

                    $('.selectize-sub-category-result')[0].selectize.setValue(event);
                }
            });

            $("#form-email").focus(function(){
                if(!$('.email-validator').hasClass('hide')) $('.email-validator').addClass('hide');
            })

            $(".sec-button").click(function(){
                var verify = emailValidation($("#form-email").val());
                if(verify) {
                    window.email = $("#form-email").val();
                    if(parseData[saveData.category][saveData.subCat] || parseData[saveData.category]['keyCustom'])    showTitle();
                    $(".sec5-bg").fadeIn("slow", function() {
                        $(this).removeClass("hide");
                    });
                    $(".sec4-bg").fadeOut("slow", function() {
                        $(this).addClass("hide");
                    });
                    $(".logo-top").removeClass("hide");
                    $('body').css('overflow-y','scroll');

                }
                else $('.email-validator').removeClass('hide');
            });

            $('.sec-button-update').click(function(){
                if(parseData[saveData.category][saveData.subCat]){
                    $('.result-page-loader').removeClass('hide');
                    showTitle();
                }
                // $('.build-btn').removeClass('hide');
            })

            $('.selectize-category-result').selectize({
                create: false,
                sortField: 'text',
                onChange:function(event){
                    makeSubCategory('.selectize-sub-category-result',saveSubCat[event]);
                    saveData.category = event;
                }
            });

            $('.selectize-sub-category-result').selectize({
                create: false,
                sortField: 'text',
                onChange:function(event){
                    saveData.subCat = event;
                }
            });

            // owl carousel start js
            $(".owl-demo").owlCarousel({
               
                itemsDesktop : [1366,3],
                itemsDesktopSmall : [979,2],
                navigation:true,
                navigationText: [
                "<i class='material-icons'>keyboard_arrow_left</i>",
                "<i class='material-icons'>keyboard_arrow_right</i>"
                ],
                
            });
        });

        $(document).on('click', '.item-selected', function(event){
            var index = buildSelect.indexOf($(this).text().trim());
            if($(this).children('input').prop('checked')) {
                if(index == -1) buildSelect.push($(this).text().trim());
            }
            else {
                if(index > -1)   buildSelect.splice(index,1);
            }
            if(buildSelect.length > 0)  {
                $('#build-select').html('('+buildSelect.length+')');
                if($('.build-btn').hasClass('hide'))    $('.build-btn').removeClass('hide');
            }
            else {
                 if(!$('.build-btn').hasClass('hide')) $('.build-btn').addClass('hide');
            }
        })

        $('.build-btn').click(function(){
            $('.build-btn').addClass('hide');
            var data = {
                timestamp:timestamp,
                email: email,
                category:saveData.category,
                sub_category:saveData.subCat,
                app_selected: buildSelect,
                flag: flag ? false : true 
            }
            requestBuild(data);
           /* $.ajax({
                type:'POST',
                url: link.getResponseLink(),
                data: JSON.stringify(data),
                success:function(response){
                    console.log(JSON.parse(response));
                },
                error:function(){

                }
            })*/
            flag = true;
        })
    </script>
</body>
</html>